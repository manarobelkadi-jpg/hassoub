<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Handmade Crafts Online Store - BizVenture Kids</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="homepage.css" />
    <link rel="stylesheet" href="responsive.css" />
    <style>
      :root {
        --primary: #4caf50;
        --primary-dark: #388e3c;
        --secondary: #ffe082;
        --accent: #ff9800;
        --text: #2e7d32;
        --text-light: #666;
        --background: #f5f5f5;
        --card-bg: #ffffff;
        --border: #e0e0e0;
        --correct: #4caf50;
        --incorrect: #f44336;
        --highlight: #81d4fa;
      }

      body {
        background-color: var(--background);
        color: var(--text);
        line-height: 1.6;
      }

      .simulation-container {
        max-width: 1000px;
        margin: 20px auto;
        background-color: var(--card-bg);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .simulation-header {
        background: linear-gradient(135deg, var(--secondary), #a5d6a7);
        padding: 30px;
        text-align: center;
        color: var(--text);
      }

      .simulation-title {
        font-size: 2.2em;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .simulation-title::before {
        content: "âœ¨";
        margin-right: 10px;
      }

      .simulation-subtitle {
        font-size: 1.1em;
        margin-bottom: 15px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      .simulation-meta {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 15px;
        flex-wrap: wrap;
      }

      .meta-item {
        display: flex;
        align-items: center;
        background-color: rgba(255, 255, 255, 0.8);
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 0.9em;
      }

      .meta-icon {
        margin-right: 5px;
        color: var(--text);
      }

      .simulation-content {
        padding: 30px;
      }

      .progress-tracker {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 1px solid var(--border);
      }

      .progress-steps {
        display: flex;
        gap: 10px;
      }

      .progress-step {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: var(--border);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #999;
        font-size: 0.8em;
        font-weight: bold;
      }

      .progress-step.active {
        background-color: var(--primary);
        color: white;
      }

      .progress-step.completed {
        background-color: var(--primary-dark);
        color: white;
      }

      .scenario-section {
        margin-bottom: 40px;
        display: none;
      }

      .scenario-section.active {
        display: block;
      }

      .scenario-title {
        color: var(--text);
        font-size: 1.6em;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid var(--secondary);
        display: flex;
        align-items: center;
      }

      .scenario-icon {
        margin-right: 10px;
        color: var(--primary);
      }

      .scenario-description {
        background-color: var(--secondary);
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        border-left: 4px solid var(--primary);
        line-height: 1.6;
      }

      .decision-card {
        background-color: var(--card-bg);
        border: 2px solid var(--border);
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .decision-title {
        color: var(--text);
        font-size: 1.2em;
        font-weight: bold;
        margin-bottom: 15px;
      }

      .decision-options {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-top: 15px;
      }

      .option-card {
        background-color: var(--card-bg);
        border: 2px solid var(--border);
        color: #666;
        border-radius: 8px;
        padding: 15px;
        cursor: pointer;
        transition: all 0.3s;
        position: relative;
        overflow: hidden;
      }

      .option-card:hover {
        border-color: var(--primary);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .option-card.selected {
        border-color: var(--primary);
        background-color: rgba(156, 39, 176, 0.1);
      }

      .option-card::after {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        width: 0;
        height: 100%;
        background-color: rgba(156, 39, 176, 0.2);
        transition: width 0.3s;
      }

      .option-card.selected::after {
        width: 10px;
      }

      .option-title {
        color: var(--text);
        font-weight: bold;
        margin-bottom: 8px;
      }

      .option-details {
        color: var(--text-light);
        font-size: 0.9em;
        line-height: 1.4;
      }

      .option-property {
        display: flex;
        justify-content: space-between;
        margin-bottom: 4px;
        font-size: 0.85em;
      }

      .product-table {
        width: 100%;
        color: #666;
        border-collapse: collapse;
        margin: 20px 0;
        background-color: var(--card-bg);
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .product-table th,
      .product-table td {
        padding: 12px;
        text-align: left;
        border-bottom: 1px solid var(--border);
      }

      .product-table th {
        background-color: var(--secondary);
        color: var(--text);
        font-weight: bold;
        text-align: center;
      }

      .product-table td:last-child {
        text-align: center;
      }

      .product-checkbox {
        width: 20px;
        height: 20px;
        cursor: pointer;
      }

      .quantity-input {
        width: 60px;
        padding: 8px;
        text-align: center;
        border: 1px solid var(--border);
        border-radius: 4px;
        font-size: 0.9em;
      }

      .budget-summary {
        display: flex;
        justify-content: space-between;
        margin: 15px 0;
        padding: 10px;
        background-color: rgba(255, 235, 238, 0.5);
        border-radius: 8px;
      }

      .budget-item {
        text-align: center;
        font-size: 0.9em;
      }

      .budget-value {
        font-weight: bold;
        color: var(--primary);
      }

      .slider-container {
        margin: 15px 0;
      }

      .slider-label {
        display: flex;
        justify-content: space-between;
        margin-bottom: 5px;
        font-size: 0.9em;
      }

      .price-slider {
        width: 100%;
        -webkit-appearance: none;
        height: 8px;
        border-radius: 4px;
        background: #d3d3d3;
        outline: none;
      }

      .price-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--primary);
        cursor: pointer;
      }

      .price-slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--primary);
        cursor: pointer;
      }

      .pricing-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        color: #666;
      }

      .pricing-table th,
      .pricing-table td {
        padding: 10px;
        text-align: left;
        border-bottom: 1px solid var(--border);
      }

      .pricing-table th {
        /*background-color: var(--secondary);*/
        color: var(--text);
        font-weight: bold;
      }

      .pricing-input {
        width: 80px;
        padding: 5px;
        text-align: center;
        border: 1px solid var(--border);
        border-radius: 4px;
      }

      .results-container {
        background-color: rgba(156, 39, 176, 0.1);
        padding: 20px;
        border-radius: 10px;
        margin-top: 30px;
      }

      .results-title {
        color: var(--text);
        font-size: 1.6em;
        font-weight: bold;
        margin-bottom: 20px;
        text-align: center;
      }

      .results-metrics {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
      }

      .metric-card {
        background-color: var(--card-bg);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 15px;
        text-align: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .metric-value {
        color: var(--primary);
        font-size: 1.8em;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .metric-label {
        color: var(--text-light);
        font-size: 0.9em;
      }

      .positive {
        color: var(--correct);
      }

      .negative {
        color: var(--incorrect);
      }

      .product-performance {
        margin: 20px 0;
        background-color: var(--card-bg);
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .performance-header {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr 1fr;
        padding: 10px 0;
        border-bottom: 1px solid var(--border);
        font-weight: bold;
        text-align: center;
      }

      .performance-row {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr 1fr;
        padding: 10px 0;
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        text-align: center;
      }

      .performance-name {
        text-align: left;
        font-weight: 500;
      }

      .performance-metric {
        font-weight: 500;
      }

      .educational-note {
        background-color: var(--secondary);
        padding: 15px;
        border-radius: 8px;
        border-left: 4px solid var(--primary);
        margin: 20px 0;
        font-size: 0.9em;
        position: relative;
      }

      .educational-note::before {
        content: "ðŸ’¡";
        position: absolute;
        left: -5px;
        top: 10px;
        font-size: 1.2em;
      }

      .navigation-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 30px;
      }

      .nav-button {
        padding: 12px 25px;
        border: none;
        border-radius: 25px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 1em;
      }

      .nav-button.prev {
        background-color: var(--secondary);
        color: var(--text);
      }

      .nav-button.next {
        background-color: var(--primary);
        color: white;
      }

      .nav-button:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .nav-button:disabled {
        background-color: #cccccc;
        cursor: not-allowed;
        transform: none;
      }

      .warning {
        color: var(--incorrect);
        font-size: 0.9em;
        margin-top: 5px;
        display: none;
      }

      .star-rating {
        color: #ffd700;
        font-size: 1.2em;
        margin: 0 5px;
      }

      .review-card {
        background-color: var(--card-bg);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .review-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
      }

      .review-stars {
        color: #ffd700;
      }

      @media (max-width: 768px) {
        .simulation-container {
          margin: 10px;
          border-radius: 0;
        }

        .simulation-header {
          padding: 20px;
        }

        .simulation-content {
          padding: 20px;
        }

        .decision-options {
          grid-template-columns: 1fr;
        }

        .product-table {
          font-size: 0.8em;
        }

        .product-table th,
        .product-table td {
          padding: 8px;
        }

        .navigation-buttons {
          flex-direction: column;
        }

        .nav-button {
          width: 100%;
          margin: 5px 0;
        }

        .performance-header,
        .performance-row {
          grid-template-columns: 1fr;
          text-align: left;
        }

        .performance-metric {
          margin-top: 5px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Top Banner -->
    <div class="top-banner">
      â˜… Play. Decide. Grow: The Safe Way to Learn Real Money Skills! â˜…
    </div>

    <!-- Header -->
    <header>
      <div class="logo">
        <!-- Replace with your logo image -->
        <img src="your-logo.png" alt="" />
        Al mo7assib A saghir
      </div>
      <nav>
        <ul>
          <li><a href="homepage.html">Home</a></li>
          <li><a href="aboutUs.html">About Us</a></li>
          <li><a href="quiz.html">Quiz</a></li>
          <li><a href="contact.html">Contact Us</a></li>
        </ul>
      </nav>
    </header>
    <div class="simulation-container">
      <div class="simulation-header">
        <h1 class="simulation-title">Handmade Crafts Online Store</h1>
        <p class="simulation-subtitle">
          Run your own online craft shop for 6 weeks! Make smart decisions about
          products, pricing, and customer service to build a successful handmade
          business.
        </p>
        <div class="simulation-meta">
          <div class="meta-item">
            <i class="fas fa-chart-line meta-icon"></i>
            <span>Advanced</span>
          </div>
          <div class="meta-item">
            <i class="fas fa-users meta-icon"></i>
            <span>Ages 12-15</span>
          </div>
          <div class="meta-item">
            <i class="fas fa-clock meta-icon"></i>
            <span>20-25 min</span>
          </div>
          <div class="meta-item">
            <i class="fas fa-dollar-sign meta-icon"></i>
            <span>$100 Start</span>
          </div>
          <div class="meta-item">
            <i class="fas fa-trophy meta-icon"></i>
            <span>120 XP</span>
          </div>
        </div>
      </div>

      <div class="simulation-content">
        <div class="progress-tracker">
          <div>
            <span style="color: var(--text); font-weight: bold"
              >Simulation Progress:</span
            >
            <span style="margin-left: 10px" id="progress-text"
              >0% Complete</span
            >
          </div>
          <div class="progress-steps">
            <div class="progress-step active">1</div>
            <div class="progress-step">2</div>
            <div class="progress-step">3</div>
            <div class="progress-step">4</div>
            <div class="progress-step">5</div>
            <div class="progress-step">6</div>
            <div class="progress-step">7</div>
          </div>
        </div>

        <!-- SCENE 1: PRODUCT LINE SELECTION -->
        <div class="scenario-section active" id="scene-1">
          <h2 class="scenario-title">
            <i class="fas fa-paint-brush scenario-icon"></i>
            Product Line Selection
          </h2>

          <div class="scenario-description">
            <p>
              You're talented at making handmade crafts! First, decide which
              products you'll offer in your online store.
            </p>
            <p>
              Each product has different costs, time requirements, and appeal.
              Choose 1-3 products to start with.
            </p>
          </div>

          <div class="educational-note">
            <strong>Key Concept:</strong> Different products have different
            costs, time requirements, and profit potential. Choose a mix that
            balances your skills with market demand!
          </div>

          <div class="decision-card">
            <div class="decision-title">
              1. Which crafts will you make and sell? (Choose 1-3)
            </div>

            <table class="product-table">
              <thead>
                <tr>
                  <th>Product</th>
                  <th>Materials Cost</th>
                  <th>Time to Make</th>
                  <th>Perceived Value</th>
                  <th>Appeal</th>
                  <th>Select</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    <strong>Friendship Bracelets</strong><br />
                    <small>Colorful woven bracelets</small>
                  </td>
                  <td>$0.50 each</td>
                  <td>20 minutes</td>
                  <td>Medium ($8)</td>
                  <td>Tweens and teens</td>
                  <td>
                    <input
                      type="checkbox"
                      class="product-checkbox"
                      id="product-bracelets"
                      onchange="updateProductSelection()"
                    />
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Painted Rocks</strong><br />
                    <small>Decorative garden rocks</small>
                  </td>
                  <td>$0.75 each</td>
                  <td>30 minutes</td>
                  <td>Medium-High ($12)</td>
                  <td>Adults (gifts, decor)</td>
                  <td>
                    <input
                      type="checkbox"
                      class="product-checkbox"
                      id="product-rocks"
                      onchange="updateProductSelection()"
                    />
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Custom Bookmarks</strong><br />
                    <small>Personalized reading accessories</small>
                  </td>
                  <td>$0.30 each</td>
                  <td>15 minutes</td>
                  <td>Low-Medium ($6)</td>
                  <td>Readers (all ages)</td>
                  <td>
                    <input
                      type="checkbox"
                      class="product-checkbox"
                      id="product-bookmarks"
                      onchange="updateProductSelection()"
                    />
                  </td>
                </tr>
                <tr>
                  <td>
                    <strong>Painted Plant Pots</strong><br />
                    <small>Decorative ceramic pots</small>
                  </td>
                  <td>$2.50 each</td>
                  <td>45 minutes</td>
                  <td>High ($20)</td>
                  <td>Adults (home decor)</td>
                  <td>
                    <input
                      type="checkbox"
                      class="product-checkbox"
                      id="product-pots"
                      onchange="updateProductSelection()"
                    />
                  </td>
                </tr>
              </tbody>
            </table>

            <div class="budget-summary">
              <div class="budget-item">
                <span>Products Selected:</span>
                <div class="budget-value" id="products-selected">0</div>
              </div>
              <div class="budget-item">
                <span>Remaining Choices:</span>
                <div class="budget-value" id="remaining-choices">3</div>
              </div>
            </div>

            <div class="warning" id="product-warning">
              You must select 1-3 products to continue!
            </div>
          </div>
        </div>

        <!-- SCENE 2: PRODUCTION STRATEGY -->
        <div class="scenario-section" id="scene-2">
          <h2 class="scenario-title">
            <i class="fas fa-boxes scenario-icon"></i>
            Production Strategy
          </h2>

          <div class="scenario-description">
            <p>
              Now decide how you'll produce your crafts before launching your
              shop.
            </p>
            <p>
              Each approach has different risks and benefits. Consider your
              budget, time, and storage space.
            </p>
          </div>

          <div class="educational-note">
            <strong>Key Concept:</strong> Inventory ties up money and time.
            Made-to-order reduces risk but limits speed and may affect customer
            satisfaction!
          </div>

          <div class="decision-card">
            <div class="decision-title">
              2. Choose your production approach:
            </div>
            <div class="decision-options">
              <div class="option-card" onclick="selectOption(this, 2, 1)">
                <div class="option-title">Make-to-Stock</div>
                <div class="option-details">
                  <p>
                    <strong>Approach:</strong> Create inventory first, then list
                  </p>
                  <p><strong>Pros:</strong> Faster shipping once orders come</p>
                  <p><strong>Cons:</strong> Risk of unsold inventory</p>
                  <p>
                    <strong>Best for:</strong> Standard designs, predictable
                    demand
                  </p>
                </div>
              </div>
              <div class="option-card" onclick="selectOption(this, 2, 2)">
                <div class="option-title">Make-to-Order</div>
                <div class="option-details">
                  <p>
                    <strong>Approach:</strong> List items, make only after
                    orders
                  </p>
                  <p><strong>Pros:</strong> No inventory risk</p>
                  <p>
                    <strong>Cons:</strong> Longer fulfillment time (5-7 days)
                  </p>
                  <p><strong>Best for:</strong> Custom items, limited budget</p>
                </div>
              </div>
              <div class="option-card" onclick="selectOption(this, 2, 3)">
                <div class="option-title">Hybrid Approach</div>
                <div class="option-details">
                  <p>
                    <strong>Approach:</strong> Stock some popular items, custom
                    make others
                  </p>
                  <p><strong>Pros:</strong> Balanced risk and speed</p>
                  <p><strong>Cons:</strong> More complex to manage</p>
                  <p><strong>Best for:</strong> Mixed product line</p>
                </div>
              </div>
            </div>
          </div>

          <div id="initial-production" style="display: none">
            <div class="decision-card">
              <div class="decision-title">
                Initial Production (if making stock):
              </div>
              <p>How many of each product will you make before launching?</p>

              <table class="product-table">
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Materials Cost</th>
                    <th>Time to Make</th>
                    <th>Quantity to Make</th>
                    <th>Total Cost</th>
                    <th>Total Time</th>
                  </tr>
                </thead>
                <tbody>
                  <tr id="bracelets-row" style="display: none">
                    <td>Friendship Bracelets</td>
                    <td>$0.50</td>
                    <td>20 min</td>
                    <td>
                      <input
                        type="number"
                        class="quantity-input"
                        id="bracelets-quantity"
                        min="0"
                        max="100"
                        value="0"
                        onchange="updateProductionCosts()"
                      />
                    </td>
                    <td>$<span id="bracelets-cost">0.00</span></td>
                    <td><span id="bracelets-time">0</span> min</td>
                  </tr>
                  <tr id="rocks-row" style="display: none">
                    <td>Painted Rocks</td>
                    <td>$0.75</td>
                    <td>30 min</td>
                    <td>
                      <input
                        type="number"
                        class="quantity-input"
                        id="rocks-quantity"
                        min="0"
                        max="50"
                        value="0"
                        onchange="updateProductionCosts()"
                      />
                    </td>
                    <td>$<span id="rocks-cost">0.00</span></td>
                    <td><span id="rocks-time">0</span> min</td>
                  </tr>
                  <tr id="bookmarks-row" style="display: none">
                    <td>Custom Bookmarks</td>
                    <td>$0.30</td>
                    <td>15 min</td>
                    <td>
                      <input
                        type="number"
                        class="quantity-input"
                        id="bookmarks-quantity"
                        min="0"
                        max="100"
                        value="0"
                        onchange="updateProductionCosts()"
                      />
                    </td>
                    <td>$<span id="bookmarks-cost">0.00</span></td>
                    <td><span id="bookmarks-time">0</span> min</td>
                  </tr>
                  <tr id="pots-row" style="display: none">
                    <td>Painted Plant Pots</td>
                    <td>$2.50</td>
                    <td>45 min</td>
                    <td>
                      <input
                        type="number"
                        class="quantity-input"
                        id="pots-quantity"
                        min="0"
                        max="20"
                        value="0"
                        onchange="updateProductionCosts()"
                      />
                    </td>
                    <td>$<span id="pots-cost">0.00</span></td>
                    <td><span id="pots-time">0</span> min</td>
                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <td colspan="3"><strong>Totals:</strong></td>
                    <td></td>
                    <td>$<span id="total-production-cost">0.00</span></td>
                    <td>
                      <span id="total-production-time">0</span> min (<span
                        id="total-production-hours"
                        >0</span
                      >
                      hours)
                    </td>
                  </tr>
                </tfoot>
              </table>

              <div class="budget-summary">
                <div class="budget-item">
                  <span>Remaining Budget:</span>
                  <div class="budget-value" id="remaining-budget">$100.00</div>
                </div>
                <div class="budget-item">
                  <span>Remaining Time:</span>
                  <div class="budget-value" id="remaining-time">40 hours</div>
                </div>
              </div>

              <div class="warning" id="production-warning">
                Your production exceeds your $100 budget or 40 hour limit!
              </div>
            </div>
          </div>
        </div>

        <!-- SCENE 3: PRICING STRATEGY -->
        <div class="scenario-section" id="scene-3">
          <h2 class="scenario-title">
            <i class="fas fa-tags scenario-icon"></i>
            Pricing Strategy
          </h2>

          <div class="scenario-description">
            <p>Now set your pricing strategy for each product.</p>
            <p>
              Remember: Your time is valuable! Calculate what your labor is
              worth and price accordingly.
            </p>
          </div>

          <div class="educational-note">
            <strong>Key Concept:</strong> Your time has value! Don't forget to
            pay yourself. Consider:
            <ul>
              <li>Materials cost</li>
              <li>Time invested (what's your hourly rate worth?)</li>
              <li>Market prices (what are competitors charging?)</li>
              <li>Perceived value (what will customers pay?)</li>
            </ul>
          </div>

          <div class="decision-card">
            <div class="decision-title">
              3. Set your pricing for each product:
            </div>

            <table class="pricing-table">
              <thead>
                <tr>
                  <th>Product</th>
                  <th>Materials Cost</th>
                  <th>Your Time Cost<br /><small>(at $10/hr)</small></th>
                  <th>Competitor Prices</th>
                  <th>Your Price</th>
                  <th>Profit per Item</th>
                </tr>
              </thead>
              <tbody>
                <tr id="bracelets-pricing" style="display: none">
                  <td>Friendship Bracelets</td>
                  <td>$0.50</td>
                  <td>$<span id="bracelets-time-cost">0.33</span></td>
                  <td>$6.00 - $9.00</td>
                  <td>
                    $<input
                      type="number"
                      class="pricing-input"
                      id="bracelets-price"
                      min="1"
                      max="20"
                      step="0.50"
                      value="8.00"
                      onchange="updatePricing()"
                    />
                  </td>
                  <td>$<span id="bracelets-profit">7.17</span></td>
                </tr>
                <tr id="rocks-pricing" style="display: none">
                  <td>Painted Rocks</td>
                  <td>$0.75</td>
                  <td>$<span id="rocks-time-cost">0.50</span></td>
                  <td>$10.00 - $15.00</td>
                  <td>
                    $<input
                      type="number"
                      class="pricing-input"
                      id="rocks-price"
                      min="5"
                      max="30"
                      step="0.50"
                      value="12.00"
                      onchange="updatePricing()"
                    />
                  </td>
                  <td>$<span id="rocks-profit">10.75</span></td>
                </tr>
                <tr id="bookmarks-pricing" style="display: none">
                  <td>Custom Bookmarks</td>
                  <td>$0.30</td>
                  <td>$<span id="bookmarks-time-cost">0.25</span></td>
                  <td>$4.00 - $7.00</td>
                  <td>
                    $<input
                      type="number"
                      class="pricing-input"
                      id="bookmarks-price"
                      min="2"
                      max="15"
                      step="0.50"
                      value="6.00"
                      onchange="updatePricing()"
                    />
                  </td>
                  <td>$<span id="bookmarks-profit">5.45</span></td>
                </tr>
                <tr id="pots-pricing" style="display: none">
                  <td>Painted Plant Pots</td>
                  <td>$2.50</td>
                  <td>$<span id="pots-time-cost">0.75</span></td>
                  <td>$18.00 - $25.00</td>
                  <td>
                    $<input
                      type="number"
                      class="pricing-input"
                      id="pots-price"
                      min="10"
                      max="40"
                      step="1.00"
                      value="20.00"
                      onchange="updatePricing()"
                    />
                  </td>
                  <td>$<span id="pots-profit">16.75</span></td>
                </tr>
              </tbody>
            </table>

            <div class="educational-note">
              <strong>Pricing Tip:</strong> Consider offering tiered pricing:
              <ul>
                <li><strong>Basic:</strong> Standard design, lower price</li>
                <li><strong>Premium:</strong> Custom options, higher price</li>
              </ul>
              This lets customers choose their value level!
            </div>
          </div>
        </div>

        <!-- SCENE 4: SHOP SETUP -->
        <div class="scenario-section" id="scene-4">
          <h2 class="scenario-title">
            <i class="fas fa-store scenario-icon"></i>
            Shop Setup
          </h2>

          <div class="scenario-description">
            <p>Now set up your online shop. First impressions matter!</p>
            <p>
              Decide how much to invest in your shop's presentation and
              marketing.
            </p>
          </div>

          <div class="educational-note">
            <strong>Key Concept:</strong> Professional presentation increases
            perceived value and conversion rates, but costs money upfront.
            Calculate your return on investment!
          </div>

          <div class="decision-card">
            <div class="decision-title">
              4. Choose your shop setup and marketing:
            </div>

            <div class="decision-options">
              <div class="option-card" onclick="selectOption(this, 4, 1)">
                <div class="option-title">Basic Listings</div>
                <div class="option-property">
                  <span><strong>Cost:</strong></span>
                  <span>$0</span>
                </div>
                <div class="option-property">
                  <span><strong>Features:</strong></span>
                  <span>Plain photos, simple descriptions</span>
                </div>
                <div class="option-property">
                  <span><strong>Visibility:</strong></span>
                  <span>Standard</span>
                </div>
                <div class="option-property">
                  <span><strong>Conversion:</strong></span>
                  <span>Base rate</span>
                </div>
              </div>

              <div class="option-card" onclick="selectOption(this, 4, 2)">
                <div class="option-title">Professional Setup</div>
                <div class="option-property">
                  <span><strong>Cost:</strong></span>
                  <span>$25</span>
                </div>
                <div class="option-property">
                  <span><strong>Features:</strong></span>
                  <span>Better photos, detailed descriptions, shop banner</span>
                </div>
                <div class="option-property">
                  <span><strong>Visibility:</strong></span>
                  <span>+30% perceived professionalism</span>
                </div>
                <div class="option-property">
                  <span><strong>Conversion:</strong></span>
                  <span>+15%</span>
                </div>
              </div>

              <div class="option-card" onclick="selectOption(this, 4, 3)">
                <div class="option-title">Premium Marketing</div>
                <div class="option-property">
                  <span><strong>Cost:</strong></span>
                  <span>$50</span>
                </div>
                <div class="option-property">
                  <span><strong>Features:</strong></span>
                  <span
                    >Everything in Professional + featured listings, social
                    media ads</span
                  >
                </div>
                <div class="option-property">
                  <span><strong>Visibility:</strong></span>
                  <span>+70% visibility boost</span>
                </div>
                <div class="option-property">
                  <span><strong>Conversion:</strong></span>
                  <span>+30%</span>
                </div>
              </div>
            </div>

            <div class="budget-summary" style="margin-top: 20px">
              <div class="budget-item">
                <span>Remaining Budget:</span>
                <div class="budget-value" id="setup-remaining-budget">
                  $100.00
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- SCENE 5: SHIPPING STRATEGY -->
        <div class="scenario-section" id="scene-5">
          <h2 class="scenario-title">
            <i class="fas fa-shipping-fast scenario-icon"></i>
            Shipping Strategy
          </h2>

          <div class="scenario-description">
            <p>Decide how to handle shipping for your products.</p>
            <p>
              Shipping affects both your costs and customer buying decisions.
              Choose carefully!
            </p>
          </div>

          <div class="educational-note">
            <strong>Key Concept:</strong> Shipping strategy impacts both your
            profits and customer satisfaction. Consider:
            <ul>
              <li>
                <strong>Customer Pays:</strong> You pass on actual costs, but
                may lose sales
              </li>
              <li>
                <strong>Flat Rate:</strong> Simple for customers, but you absorb
                differences
              </li>
              <li>
                <strong>Free Shipping:</strong> Psychologically appealing, but
                must build cost into prices
              </li>
            </ul>
          </div>

          <div class="decision-card">
            <div class="decision-title">5. Choose your shipping approach:</div>

            <div class="decision-options">
              <div class="option-card" onclick="selectOption(this, 5, 1)">
                <div class="option-title">Customer Pays Shipping</div>
                <div class="option-details">
                  <p>
                    <strong>Cost to You:</strong> $0 (customer pays actual cost)
                  </p>
                  <p>
                    <strong>Customer Impact:</strong> May reduce sales (sticker
                    shock)
                  </p>
                  <p>
                    <strong>Best For:</strong> Low-margin products,
                    budget-conscious approach
                  </p>
                </div>
              </div>

              <div class="option-card" onclick="selectOption(this, 5, 2)">
                <div class="option-title">Flat Rate Shipping</div>
                <div class="option-details">
                  <p>
                    <strong>Cost to You:</strong> Varies (you set $4.00 flat
                    rate)
                  </p>
                  <p>
                    <strong>Customer Impact:</strong> Simple and predictable for
                    customers
                  </p>
                  <p>
                    <strong>Best For:</strong> Mixed product weights, balanced
                    approach
                  </p>
                </div>
              </div>

              <div class="option-card" onclick="selectOption(this, 5, 3)">
                <div class="option-title">Free Shipping</div>
                <div class="option-details">
                  <p><strong>Cost to You:</strong> Built into product prices</p>
                  <p>
                    <strong>Customer Impact:</strong> Psychologically appealing
                    ("Free shipping!")
                  </p>
                  <p>
                    <strong>Best For:</strong> Higher-margin products,
                    competitive markets
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- SCENE 6: TIME MANAGEMENT -->
        <div class="scenario-section" id="scene-6">
          <h2 class="scenario-title">
            <i class="fas fa-clock scenario-icon"></i>
            Time Management
          </h2>

          <div class="scenario-description">
            <p>
              You have 15 hours per week available for your business (after
              school and homework).
            </p>
            <p>
              Decide how to allocate your time between production, customer
              service, and marketing.
            </p>
          </div>

          <div class="educational-note">
            <strong>Key Concept:</strong> Time is your most limited resource!
            More orders require more time. Balance:
            <ul>
              <li>
                <strong>Production:</strong> More items = more potential sales
              </li>
              <li>
                <strong>Customer Service:</strong> Better service = better
                reviews = more sales
              </li>
              <li>
                <strong>Marketing:</strong> More visibility = more potential
                customers
              </li>
            </ul>
          </div>

          <div class="decision-card">
            <div class="decision-title">
              6. Allocate your weekly time (15 hours total):
            </div>

            <div class="slider-container">
              <div class="slider-label">
                <span
                  ><strong>Production Time</strong><br /><small
                    >Making products, packaging orders</small
                  ></span
                >
                <span><span id="production-hours">10</span> hours</span>
              </div>
              <input
                type="range"
                min="5"
                max="12"
                value="10"
                class="price-slider"
                id="production-slider"
                oninput="updateTimeAllocation()"
              />

              <div class="slider-label">
                <span
                  ><strong>Customer Service Time</strong><br /><small
                    >Responding to messages, handling issues</small
                  ></span
                >
                <span><span id="service-hours">3</span> hours</span>
              </div>
              <input
                type="range"
                min="1"
                max="8"
                value="3"
                class="price-slider"
                id="service-slider"
                oninput="updateTimeAllocation()"
              />

              <div class="slider-label">
                <span
                  ><strong>Marketing Time</strong><br /><small
                    >Social media, promotions, listings</small
                  ></span
                >
                <span><span id="marketing-hours">2</span> hours</span>
              </div>
              <input
                type="range"
                min="0"
                max="5"
                value="2"
                class="price-slider"
                id="marketing-slider"
                oninput="updateTimeAllocation()"
              />

              <div style="margin-top: 20px; text-align: center">
                <strong>Total:</strong> <span id="total-hours">15</span>/15
                hours
              </div>
            </div>

            <div class="educational-note" style="margin-top: 20px">
              <strong>Time Impact:</strong>
              <ul>
                <li>
                  <strong>More Production:</strong> Can fulfill more orders but
                  may sacrifice quality/service
                </li>
                <li>
                  <strong>More Service:</strong> Better reviews but fewer
                  products made
                </li>
                <li>
                  <strong>More Marketing:</strong> More visibility but less time
                  for production
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- SCENE 7: CUSTOMER SERVICE -->
        <div class="scenario-section" id="scene-7">
          <h2 class="scenario-title">
            <i class="fas fa-headset scenario-icon"></i>
            Customer Service Strategy
          </h2>

          <div class="scenario-description">
            <p>
              Decide how you'll handle customer interactions and quality
              control.
            </p>
            <p>
              Great service leads to great reviews, but takes more time. Find
              the right balance!
            </p>
          </div>

          <div class="educational-note">
            <strong>Key Concept:</strong> Customer service directly impacts your
            reputation and sales! Consider:
            <ul>
              <li>
                <strong>Response Time:</strong> Faster = better reviews but more
                time
              </li>
              <li>
                <strong>Quality Control:</strong> More careful = fewer returns
                but slower
              </li>
              <li>
                <strong>Customization:</strong> More options = higher prices but
                more complex
              </li>
            </ul>
          </div>

          <div class="decision-card">
            <div class="decision-title">
              7. Choose your customer service approach:
            </div>

            <div style="margin-bottom: 20px">
              <strong>Response Time:</strong>
              <div class="decision-options" style="margin-top: 10px">
                <div
                  class="option-card"
                  onclick="selectOption(this, 7, 1, 'response')"
                >
                  <div class="option-title">24-Hour Response</div>
                  <div class="option-details">
                    <p><strong>Impact:</strong> Standard expectation</p>
                    <p><strong>Time Cost:</strong> Minimal</p>
                  </div>
                </div>
                <div
                  class="option-card"
                  onclick="selectOption(this, 7, 2, 'response')"
                >
                  <div class="option-title">Same-Day Response</div>
                  <div class="option-details">
                    <p><strong>Impact:</strong> Better reviews, more trust</p>
                    <p>
                      <strong>Time Cost:</strong> Moderate (need to check
                      messages daily)
                    </p>
                  </div>
                </div>
                <div
                  class="option-card"
                  onclick="selectOption(this, 7, 3, 'response')"
                >
                  <div class="option-title">Instant Response</div>
                  <div class="option-details">
                    <p>
                      <strong>Impact:</strong> Excellent reviews, high trust
                    </p>
                    <p>
                      <strong>Time Cost:</strong> Significant (always available)
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div style="margin-bottom: 20px">
              <strong>Quality Control:</strong>
              <div class="decision-options" style="margin-top: 10px">
                <div
                  class="option-card"
                  onclick="selectOption(this, 7, 1, 'quality')"
                >
                  <div class="option-title">Quick Check</div>
                  <div class="option-details">
                    <p><strong>Impact:</strong> Fast but 5% defect risk</p>
                    <p><strong>Time Cost:</strong> Minimal</p>
                  </div>
                </div>
                <div
                  class="option-card"
                  onclick="selectOption(this, 7, 2, 'quality')"
                >
                  <div class="option-title">Careful Inspection</div>
                  <div class="option-details">
                    <p><strong>Impact:</strong> Standard 1% defect risk</p>
                    <p><strong>Time Cost:</strong> Moderate (+5 min/item)</p>
                  </div>
                </div>
                <div
                  class="option-card"
                  onclick="selectOption(this, 7, 3, 'quality')"
                >
                  <div class="option-title">Perfectionist</div>
                  <div class="option-details">
                    <p><strong>Impact:</strong> 0% defects, premium feel</p>
                    <p>
                      <strong>Time Cost:</strong> Significant (+10 min/item)
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div>
              <strong>Customization Options:</strong>
              <div class="decision-options" style="margin-top: 10px">
                <div
                  class="option-card"
                  onclick="selectOption(this, 7, 1, 'custom')"
                >
                  <div class="option-title">No Customization</div>
                  <div class="option-details">
                    <p>
                      <strong>Impact:</strong> Faster production, lower prices
                    </p>
                    <p>
                      <strong>Market Appeal:</strong> Limited to standard
                      designs
                    </p>
                  </div>
                </div>
                <div
                  class="option-card"
                  onclick="selectOption(this, 7, 2, 'custom')"
                >
                  <div class="option-title">Limited Customization</div>
                  <div class="option-details">
                    <p>
                      <strong>Impact:</strong> Some options, manageable
                      complexity
                    </p>
                    <p><strong>Market Appeal:</strong> Broader customer base</p>
                  </div>
                </div>
                <div
                  class="option-card"
                  onclick="selectOption(this, 7, 3, 'custom')"
                >
                  <div class="option-title">Full Customization</div>
                  <div class="option-details">
                    <p><strong>Impact:</strong> Any request, premium pricing</p>
                    <p>
                      <strong>Market Appeal:</strong> Highest customer
                      satisfaction
                    </p>
                    <p><strong>Time Cost:</strong> Significant per order</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- SCENE 8: RESULTS -->
        <div class="scenario-section" id="scene-8">
          <h2 class="scenario-title">
            <i class="fas fa-chart-line scenario-icon"></i>
            Business Results
          </h2>

          <div class="results-container">
            <div class="results-title">
              Your Handmade Crafts Business Performance
            </div>

            <div class="results-metrics">
              <div class="metric-card">
                <div class="metric-value" id="revenue-value">$0</div>
                <div class="metric-label">Total Revenue</div>
              </div>
              <div class="metric-card">
                <div class="metric-value" id="profit-value">$0</div>
                <div class="metric-label">Net Profit</div>
              </div>
              <div class="metric-card">
                <div class="metric-value" id="orders-value">0</div>
                <div class="metric-label">Orders Fulfilled</div>
              </div>
              <div class="metric-card">
                <div class="metric-value" id="rating-value">0.0</div>
                <div class="metric-label">Average Rating</div>
              </div>
            </div>

            <div class="product-performance">
              <h3
                style="
                  color: var(--text);
                  margin-bottom: 10px;
                  text-align: center;
                "
              >
                Product Performance
              </h3>
              <div class="performance-header">
                <div class="performance-name">Product</div>
                <div class="performance-metric">Sold</div>
                <div class="performance-metric">Revenue</div>
                <div class="performance-metric">Profit</div>
              </div>
              <div
                class="performance-row"
                id="bracelets-results"
                style="display: none"
              >
                <div class="performance-name">Friendship Bracelets</div>
                <div class="performance-metric" id="bracelets-sold">0</div>
                <div class="performance-metric" id="bracelets-revenue">$0</div>
                <div class="performance-metric" id="bracelets-profit">$0</div>
              </div>
              <div
                class="performance-row"
                id="rocks-results"
                style="display: none"
              >
                <div class="performance-name">Painted Rocks</div>
                <div class="performance-metric" id="rocks-sold">0</div>
                <div class="performance-metric" id="rocks-revenue">$0</div>
                <div class="performance-metric" id="rocks-profit">$0</div>
              </div>
              <div
                class="performance-row"
                id="bookmarks-results"
                style="display: none"
              >
                <div class="performance-name">Custom Bookmarks</div>
                <div class="performance-metric" id="bookmarks-sold">0</div>
                <div class="performance-metric" id="bookmarks-revenue">$0</div>
                <div class="performance-metric" id="bookmarks-profit">$0</div>
              </div>
              <div
                class="performance-row"
                id="pots-results"
                style="display: none"
              >
                <div class="performance-name">Painted Plant Pots</div>
                <div class="performance-metric" id="pots-sold">0</div>
                <div class="performance-metric" id="pots-revenue">$0</div>
                <div class="performance-metric" id="pots-profit">$0</div>
              </div>
            </div>

            <div
              style="
                background-color: #e8f5e8;
                padding: 15px;
                border-radius: 8px;
                border-left: 4px solid var(--primary);
                margin-top: 20px;
              "
            >
              <h3 style="color: var(--text); margin-bottom: 10px">
                Customer Reviews
              </h3>
              <div id="reviews-container">
                <!-- Reviews will be generated by JavaScript -->
              </div>
            </div>

            <div
              style="
                background-color: #e8f5e8;
                padding: 15px;
                border-radius: 8px;
                border-left: 4px solid var(--primary);
                margin-top: 20px;
              "
            >
              <h3 style="color: var(--text); margin-bottom: 10px">
                Key Lessons Learned
              </h3>
              <div
                id="lessons-text"
                style="line-height: 1.6; color: var(--text-light)"
              >
                <!-- LESSONS WILL BE GENERATED BY JAVASCRIPT -->
              </div>
            </div>

            <div
              style="
                background-color: var(--card-bg);
                padding: 15px;
                border-radius: 8px;
                margin-top: 20px;
                text-align: center;
              "
            >
              <h3 style="color: var(--text); margin-bottom: 10px">
                Your Score
              </h3>
              <div
                style="font-size: 2em; font-weight: bold; color: var(--primary)"
                id="score-value"
              >
                0/100
              </div>
              <div style="margin-top: 10px">
                <button
                  class="nav-button"
                  style="
                    background-color: var(--primary);
                    color: white;
                    margin: 0 10px;
                  "
                  onclick="window.location.href='dashboard.html'"
                >
                  Return to Dashboard
                </button>
                <button
                  class="nav-button"
                  style="
                    background-color: var(--secondary);
                    color: var(--text);
                    margin: 0 10px;
                  "
                  onclick="restartSimulation()"
                >
                  Try Again
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="navigation-buttons">
          <button class="nav-button prev" onclick="prevScene()" disabled>
            â† Previous
          </button>
          <button class="nav-button next" onclick="nextScene()">Next â†’</button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-top">
        <div class="footer-logo">
          <img src="your-logo.png" alt="BizVenture Kids Logo" />
        </div>
        <nav class="footer-nav">
          <ul>
           <li><a href="homepage.html">Home</a></li>
          <li><a href="aboutUs.html">About Us</a></li>
          <li><a href="quiz.html">Quiz</a></li>
          <li><a href="contact.html">Contact Us</a></li>
          </ul>
        </nav>
      </div>
      <div class="footer-bottom">
        <div class="footer-links">
          <ul>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Terms and Conditions</a></li>
            <li><a href="#">FAQ</a></li>
          </ul>
        </div>
        <div class="social-icons">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-whatsapp"></i></a>
        </div>
        <div class="contact-info">
          <p>ðŸ“ž +47 961 78 807</p>
          <p>âœ‰ï¸ Info@BizVentureKids.no</p>
        </div>
      </div>
      <div class="copyright">
        <p>Â© 2025 BizVenture Kids. All rights reserved.</p>
      </div>
    </footer>

    <script>
      // Simulation state
      let currentScene = 1;
      let totalScenes = 8;

      // Product selection
      let selectedProducts = {
        bracelets: false,
        rocks: false,
        bookmarks: false,
        pots: false,
      };

      // Production strategy
      let productionStrategy = null;
      let initialInventory = {
        bracelets: 0,
        rocks: 0,
        bookmarks: 0,
        pots: 0,
      };

      // Pricing
      let productPricing = {
        bracelets: { price: 8.0, cost: 0.5, time: 0.33, profit: 7.17 },
        rocks: { price: 12.0, cost: 0.75, time: 0.5, profit: 10.75 },
        bookmarks: { price: 6.0, cost: 0.3, time: 0.25, profit: 5.45 },
        pots: { price: 20.0, cost: 2.5, time: 0.75, profit: 16.75 },
      };

      // Shop setup
      let shopSetup = null;
      let remainingBudget = 100;

      // Shipping strategy
      let shippingStrategy = null;

      // Time allocation
      let timeAllocation = {
        production: 10,
        service: 3,
        marketing: 2,
      };

      // Customer service
      let serviceStrategy = {
        response: null,
        quality: null,
        custom: null,
      };

      // Results data
      let results = {
        revenue: 0,
        profit: 0,
        orders: 0,
        rating: 0,
        reviews: [],
        productPerformance: {},
      };

      // Initialize simulation
      function initSimulation() {
        updateProgress();
        document.getElementById("setup-remaining-budget").textContent =
          "$" + remainingBudget.toFixed(2);
      }

      // Update progress tracker
      function updateProgress() {
        const progress = Math.round(
          ((currentScene - 1) / (totalScenes - 1)) * 100
        );
        document.getElementById(
          "progress-text"
        ).textContent = `${progress}% Complete`;

        const steps = document.querySelectorAll(".progress-step");
        steps.forEach((step, index) => {
          step.classList.remove("active", "completed");
          if (index < currentScene - 1) {
            step.classList.add("completed");
          } else if (index === currentScene - 1) {
            step.classList.add("active");
          }
        });

        // Update navigation buttons
        const prevButton = document.querySelector(".nav-button.prev");
        const nextButton = document.querySelector(".nav-button.next");

        prevButton.disabled = currentScene === 1;
        nextButton.textContent =
          currentScene === totalScenes ? "Finish Simulation" : "Next â†’";
      }

      // Update product selection
      function updateProductSelection() {
        // Get selected products
        selectedProducts.bracelets =
          document.getElementById("product-bracelets").checked;
        selectedProducts.rocks =
          document.getElementById("product-rocks").checked;
        selectedProducts.bookmarks =
          document.getElementById("product-bookmarks").checked;
        selectedProducts.pots = document.getElementById("product-pots").checked;

        // Count selected products
        const count = Object.values(selectedProducts).filter(Boolean).length;
        document.getElementById("products-selected").textContent = count;
        document.getElementById("remaining-choices").textContent = 3 - count;

        // Show/hide warning
        document.getElementById("product-warning").style.display =
          count < 1 || count > 3 ? "block" : "none";

        // Enable/disable next button
        const nextButton = document.querySelector(".nav-button.next");
        nextButton.disabled = count < 1 || count > 3;
      }

      // Update production costs
      function updateProductionCosts() {
        // Get quantities
        initialInventory.bracelets =
          parseInt(document.getElementById("bracelets-quantity").value) || 0;
        initialInventory.rocks =
          parseInt(document.getElementById("rocks-quantity").value) || 0;
        initialInventory.bookmarks =
          parseInt(document.getElementById("bookmarks-quantity").value) || 0;
        initialInventory.pots =
          parseInt(document.getElementById("pots-quantity").value) || 0;

        // Calculate costs and time
        let totalCost = 0;
        let totalTime = 0;

        if (selectedProducts.bracelets) {
          const cost = initialInventory.bracelets * 0.5;
          const time = initialInventory.bracelets * 20;
          document.getElementById("bracelets-cost").textContent =
            cost.toFixed(2);
          document.getElementById("bracelets-time").textContent = time;
          totalCost += cost;
          totalTime += time;
        }

        if (selectedProducts.rocks) {
          const cost = initialInventory.rocks * 0.75;
          const time = initialInventory.rocks * 30;
          document.getElementById("rocks-cost").textContent = cost.toFixed(2);
          document.getElementById("rocks-time").textContent = time;
          totalCost += cost;
          totalTime += time;
        }

        if (selectedProducts.bookmarks) {
          const cost = initialInventory.bookmarks * 0.3;
          const time = initialInventory.bookmarks * 15;
          document.getElementById("bookmarks-cost").textContent =
            cost.toFixed(2);
          document.getElementById("bookmarks-time").textContent = time;
          totalCost += cost;
          totalTime += time;
        }

        if (selectedProducts.pots) {
          const cost = initialInventory.pots * 2.5;
          const time = initialInventory.pots * 45;
          document.getElementById("pots-cost").textContent = cost.toFixed(2);
          document.getElementById("pots-time").textContent = time;
          totalCost += cost;
          totalTime += time;
        }

        // Update totals
        document.getElementById("total-production-cost").textContent =
          totalCost.toFixed(2);
        document.getElementById("total-production-time").textContent =
          totalTime;
        document.getElementById("total-production-hours").textContent = (
          totalTime / 60
        ).toFixed(1);

        // Show/hide warning
        const overBudget = totalCost > remainingBudget;
        const overTime = totalTime / 60 > 40; // 40 hours available
        document.getElementById("production-warning").style.display =
          overBudget || overTime ? "block" : "none";

        // Enable/disable next button
        const nextButton = document.querySelector(".nav-button.next");
        nextButton.disabled = overBudget || overTime;
      }

      // Update pricing calculations
      function updatePricing() {
        // Update each product's price and profit
        if (selectedProducts.bracelets) {
          const price = parseFloat(
            document.getElementById("bracelets-price").value
          );
          const profit =
            price -
            productPricing.bracelets.cost -
            10 * productPricing.bracelets.time;
          document.getElementById("bracelets-profit").textContent =
            profit.toFixed(2);
          productPricing.bracelets.price = price;
          productPricing.bracelets.profit = profit;
        }

        if (selectedProducts.rocks) {
          const price = parseFloat(
            document.getElementById("rocks-price").value
          );
          const profit =
            price - productPricing.rocks.cost - 10 * productPricing.rocks.time;
          document.getElementById("rocks-profit").textContent =
            profit.toFixed(2);
          productPricing.rocks.price = price;
          productPricing.rocks.profit = profit;
        }

        if (selectedProducts.bookmarks) {
          const price = parseFloat(
            document.getElementById("bookmarks-price").value
          );
          const profit =
            price -
            productPricing.bookmarks.cost -
            10 * productPricing.bookmarks.time;
          document.getElementById("bookmarks-profit").textContent =
            profit.toFixed(2);
          productPricing.bookmarks.price = price;
          productPricing.bookmarks.profit = profit;
        }

        if (selectedProducts.pots) {
          const price = parseFloat(document.getElementById("pots-price").value);
          const profit =
            price - productPricing.pots.cost - 10 * productPricing.pots.time;
          document.getElementById("pots-profit").textContent =
            profit.toFixed(2);
          productPricing.pots.price = price;
          productPricing.pots.profit = profit;
        }
      }

      // Update time allocation
      function updateTimeAllocation() {
        timeAllocation.production = parseInt(
          document.getElementById("production-slider").value
        );
        timeAllocation.service = parseInt(
          document.getElementById("service-slider").value
        );
        timeAllocation.marketing = parseInt(
          document.getElementById("marketing-slider").value
        );

        document.getElementById("production-hours").textContent =
          timeAllocation.production;
        document.getElementById("service-hours").textContent =
          timeAllocation.service;
        document.getElementById("marketing-hours").textContent =
          timeAllocation.marketing;

        const total =
          timeAllocation.production +
          timeAllocation.service +
          timeAllocation.marketing;
        document.getElementById("total-hours").textContent = total;
      }

      // Select option
      function selectOption(element, sceneNum, optionNum, category = null) {
        // Remove selected class from all options in this scene
        let container;
        if (category) {
          // For radio-style options within a category
          container = element.parentElement;
        } else {
          // For regular option cards
          const scene = document.getElementById(`scene-${sceneNum}`);
          container =
            scene.querySelector(".decision-options") ||
            scene.querySelector(".option-card-container");
        }

        const options = container.querySelectorAll(".option-card");
        options.forEach((opt) => opt.classList.remove("selected"));

        // Add selected class to clicked option
        element.classList.add("selected");

        // Store selection
        switch (sceneNum) {
          case 2: // Production strategy
            productionStrategy = optionNum;

            // Show/hide initial production section
            document.getElementById("initial-production").style.display =
              optionNum === 1 || optionNum === 3 ? "block" : "none";

            // Show relevant product rows
            document.getElementById("bracelets-row").style.display =
              selectedProducts.bracelets ? "table-row" : "none";
            document.getElementById("rocks-row").style.display =
              selectedProducts.rocks ? "table-row" : "none";
            document.getElementById("bookmarks-row").style.display =
              selectedProducts.bookmarks ? "table-row" : "none";
            document.getElementById("pots-row").style.display =
              selectedProducts.pots ? "table-row" : "none";

            // Enable next button
            document.querySelector(".nav-button.next").disabled = false;
            break;

          case 4: // Shop setup
            shopSetup = optionNum;
            let cost = 0;
            switch (optionNum) {
              case 1:
                cost = 0;
                break;
              case 2:
                cost = 25;
                break;
              case 3:
                cost = 50;
                break;
            }

            remainingBudget -= cost;
            document.getElementById("setup-remaining-budget").textContent =
              "$" + remainingBudget.toFixed(2);

            // Enable next button
            document.querySelector(".nav-button.next").disabled = false;
            break;

          case 5: // Shipping strategy
            shippingStrategy = optionNum;
            // Enable next button
            document.querySelector(".nav-button.next").disabled = false;
            break;

          case 7: // Customer service
            if (category === "response") {
              serviceStrategy.response = optionNum;
            } else if (category === "quality") {
              serviceStrategy.quality = optionNum;
            } else if (category === "custom") {
              serviceStrategy.custom = optionNum;
            }

            // Check if all service strategies are selected
            if (
              serviceStrategy.response &&
              serviceStrategy.quality &&
              serviceStrategy.custom
            ) {
              document.querySelector(".nav-button.next").disabled = false;
            }
            break;
        }
      }

      // Navigation functions
      function prevScene() {
        if (currentScene > 1) {
          document
            .getElementById(`scene-${currentScene}`)
            .classList.remove("active");
          currentScene--;
          document
            .getElementById(`scene-${currentScene}`)
            .classList.add("active");
          updateProgress();
        }
      }

      function nextScene() {
        if (currentScene < totalScenes) {
          // Validate current scene before proceeding
          let canProceed = true;

          if (currentScene === 1) {
            const count =
              Object.values(selectedProducts).filter(Boolean).length;
            if (count < 1 || count > 3) {
              alert("Please select 1-3 products before continuing.");
              canProceed = false;
            }
          } else if (
            currentScene === 2 &&
            (productionStrategy === 1 || productionStrategy === 3)
          ) {
            let totalCost = 0;
            let totalTime = 0;

            if (selectedProducts.bracelets) {
              totalCost += initialInventory.bracelets * 0.5;
              totalTime += initialInventory.bracelets * 20;
            }
            if (selectedProducts.rocks) {
              totalCost += initialInventory.rocks * 0.75;
              totalTime += initialInventory.rocks * 30;
            }
            if (selectedProducts.bookmarks) {
              totalCost += initialInventory.bookmarks * 0.3;
              totalTime += initialInventory.bookmarks * 15;
            }
            if (selectedProducts.pots) {
              totalCost += initialInventory.pots * 2.5;
              totalTime += initialInventory.pots * 45;
            }

            if (totalCost > remainingBudget || totalTime / 60 > 40) {
              alert("Your production exceeds your budget or time limits!");
              canProceed = false;
            }
          } else if (currentScene === 2 && !productionStrategy) {
            alert("Please select a production strategy before continuing.");
            canProceed = false;
          } else if (currentScene === 4 && !shopSetup) {
            alert("Please select a shop setup before continuing.");
            canProceed = false;
          } else if (currentScene === 5 && !shippingStrategy) {
            alert("Please select a shipping strategy before continuing.");
            canProceed = false;
          } else if (
            currentScene === 7 &&
            (!serviceStrategy.response ||
              !serviceStrategy.quality ||
              !serviceStrategy.custom)
          ) {
            alert(
              "Please complete all customer service selections before continuing."
            );
            canProceed = false;
          }

          if (canProceed) {
            document
              .getElementById(`scene-${currentScene}`)
              .classList.remove("active");
            currentScene++;
            document
              .getElementById(`scene-${currentScene}`)
              .classList.add("active");
            updateProgress();

            // Show pricing rows for selected products
            if (currentScene === 3) {
              document.getElementById("bracelets-pricing").style.display =
                selectedProducts.bracelets ? "table-row" : "none";
              document.getElementById("rocks-pricing").style.display =
                selectedProducts.rocks ? "table-row" : "none";
              document.getElementById("bookmarks-pricing").style.display =
                selectedProducts.bookmarks ? "table-row" : "none";
              document.getElementById("pots-pricing").style.display =
                selectedProducts.pots ? "table-row" : "none";
            }

            // If we've reached the results scene, calculate and display results
            if (currentScene === totalScenes) {
              calculateResults();
            }
          }
        } else {
          // Simulation complete
          alert("Simulation complete! Your score has been recorded.");
        }
      }

      // Calculate and display results
      function calculateResults() {
        // Reset results
        results = {
          revenue: 0,
          profit: 0,
          orders: 0,
          rating: 0,
          reviews: [],
          productPerformance: {},
        };

        // Calculate base metrics based on choices
        let baseTraffic = 50; // Base weekly visitors

        // Adjust for shop setup
        let conversionBoost = 0;
        let visibilityBoost = 0;
        switch (shopSetup) {
          case 1: // Basic
            conversionBoost = 0;
            visibilityBoost = 0;
            break;
          case 2: // Professional
            conversionBoost = 0.15;
            visibilityBoost = 0.3;
            break;
          case 3: // Premium
            conversionBoost = 0.3;
            visibilityBoost = 0.7;
            break;
        }

        // Adjust for marketing time
        visibilityBoost += timeAllocation.marketing * 0.05;

        // Calculate total traffic over 6 weeks
        const totalTraffic = baseTraffic * 6 * (1 + visibilityBoost);

        // Calculate conversion rate based on choices
        let baseConversion = 0.05; // 5% base conversion

        // Adjust for shipping strategy
        let shippingConversion = 0;
        switch (shippingStrategy) {
          case 1: // Customer pays
            shippingConversion = -0.02; // Small negative impact
            break;
          case 2: // Flat rate
            shippingConversion = 0.03; // Small positive impact
            break;
          case 3: // Free shipping
            shippingConversion = 0.08; // Significant positive impact
            break;
        }

        // Adjust for response time
        let responseConversion = 0;
        switch (serviceStrategy.response) {
          case 1: // 24-hour
            responseConversion = 0;
            break;
          case 2: // Same-day
            responseConversion = 0.05;
            break;
          case 3: // Instant
            responseConversion = 0.1;
            break;
        }

        // Adjust for quality control
        let qualityImpact = 0;
        switch (serviceStrategy.quality) {
          case 1: // Quick
            qualityImpact = -0.05; // Higher defect risk
            break;
          case 2: // Careful
            qualityImpact = 0;
            break;
          case 3: // Perfectionist
            qualityImpact = 0.05; // Premium quality
            break;
        }

        // Final conversion rate
        const conversionRate = Math.min(
          0.3,
          Math.max(
            0.01,
            baseConversion +
              conversionBoost +
              shippingConversion +
              responseConversion
          )
        );

        // Calculate total orders
        const totalOrders = Math.round(totalTraffic * conversionRate);

        // Calculate production capacity based on time allocation
        const productionHours = timeAllocation.production * 6; // 6 weeks
        const productionCapacity = productionHours / 0.33; // Based on bracelet time (20 min = 0.33 hours)

        // Calculate actual orders fulfilled (limited by production capacity)
        const ordersFulfilled = Math.min(totalOrders, productionCapacity);
        results.orders = ordersFulfilled;

        // Calculate which products were sold (based on appeal and random distribution)
        const productWeights = {};
        if (selectedProducts.bracelets) productWeights.bracelets = 0.4;
        if (selectedProducts.rocks) productWeights.rocks = 0.2;
        if (selectedProducts.bookmarks) productWeights.bookmarks = 0.3;
        if (selectedProducts.pots) productWeights.pots = 0.1;

        // Normalize weights
        const totalWeight = Object.values(productWeights).reduce(
          (a, b) => a + b,
          0
        );
        for (let product in productWeights) {
          productWeights[product] = productWeights[product] / totalWeight;
        }

        // Distribute orders among products
        const productSales = {};
        let remainingOrders = ordersFulfilled;

        for (let product in productWeights) {
          const expected = Math.round(
            ordersFulfilled * productWeights[product]
          );
          const available =
            productionStrategy === 1
              ? initialInventory[product] // Make-to-stock limited by initial inventory
              : productionCapacity; // Make-to-order limited by total capacity

          productSales[product] = Math.min(expected, available);
          remainingOrders -= productSales[product];

          // Calculate revenue and profit for this product
          const revenue = productSales[product] * productPricing[product].price;
          const profit = productSales[product] * productPricing[product].profit;

          results.revenue += revenue;
          results.profit += profit;

          results.productPerformance[product] = {
            sold: productSales[product],
            revenue: revenue,
            profit: profit,
          };
        }

        // Calculate shipping costs
        let shippingCost = 0;
        let shippingRevenue = 0;

        switch (shippingStrategy) {
          case 1: // Customer pays - no cost to us
            shippingCost = 0;
            // Estimate shipping revenue based on product mix
            for (let product in productSales) {
              let costPerItem = 0;
              if (product === "pots") {
                costPerItem = 8.0; // Heavy items
              } else if (product === "rocks") {
                costPerItem = 5.0; // Medium items
              } else {
                costPerItem = 3.5; // Light items
              }
              shippingRevenue += productSales[product] * costPerItem;
            }
            break;

          case 2: // Flat rate - we collect $4 but pay actual cost
            shippingRevenue = ordersFulfilled * 4.0;
            // Calculate actual shipping cost
            for (let product in productSales) {
              let costPerItem = 0;
              if (product === "pots") {
                costPerItem = 8.0;
              } else if (product === "rocks") {
                costPerItem = 5.0;
              } else {
                costPerItem = 3.5;
              }
              shippingCost += productSales[product] * costPerItem;
            }
            shippingCost -= shippingRevenue; // Net shipping cost
            break;

          case 3: // Free shipping - we pay all shipping costs
            shippingRevenue = 0;
            for (let product in productSales) {
              let costPerItem = 0;
              if (product === "pots") {
                costPerItem = 8.0;
              } else if (product === "rocks") {
                costPerItem = 5.0;
              } else {
                costPerItem = 3.5;
              }
              shippingCost += productSales[product] * costPerItem;
            }
            break;
        }

        // Add shipping revenue and subtract shipping cost
        results.revenue += shippingRevenue;
        results.profit -= shippingCost;

        // Calculate platform fees (5% + $0.20 per transaction)
        const platformFees = results.revenue * 0.05 + ordersFulfilled * 0.2;
        results.profit -= platformFees;

        // Calculate packaging costs ($0.50 per order)
        const packagingCosts = ordersFulfilled * 0.5;
        results.profit -= packagingCosts;

        // Subtract shop setup costs
        let setupCost = 0;
        switch (shopSetup) {
          case 1:
            setupCost = 0;
            break;
          case 2:
            setupCost = 25;
            break;
          case 3:
            setupCost = 50;
            break;
        }
        results.profit -= setupCost;

        // Calculate customer rating (1-5)
        let rating = 3.0; // Base rating

        // Adjust for response time
        switch (serviceStrategy.response) {
          case 1:
            rating += 0.0;
            break;
          case 2:
            rating += 0.5;
            break;
          case 3:
            rating += 1.0;
            break;
        }

        // Adjust for quality control
        switch (serviceStrategy.quality) {
          case 1:
            rating -= 0.5;
            break; // Quick check has more defects
          case 2:
            rating += 0.0;
            break;
          case 3:
            rating += 0.5;
            break; // Perfectionist gets better reviews
        }

        // Adjust for customization
        switch (serviceStrategy.custom) {
          case 1:
            rating -= 0.2;
            break; // No customization may disappoint some
          case 2:
            rating += 0.3;
            break;
          case 3:
            rating += 0.5;
            break; // Full customization delights customers
        }

        // Adjust for shipping strategy
        switch (shippingStrategy) {
          case 1:
            rating -= 0.3;
            break; // Customer pays shipping can annoy
          case 2:
            rating += 0.0;
            break;
          case 3:
            rating += 0.5;
            break; // Free shipping delights customers
        }

        // Adjust for shop professionalism
        switch (shopSetup) {
          case 1:
            rating -= 0.2;
            break; // Basic setup looks less professional
          case 2:
            rating += 0.3;
            break;
          case 3:
            rating += 0.5;
            break; // Premium setup looks very professional
        }

        // Cap rating at 5
        results.rating = Math.min(5, Math.max(1, Math.round(rating * 10) / 10));

        // Generate sample reviews
        results.reviews = [];

        // Generate 3-5 reviews based on rating
        const reviewCount = Math.min(
          5,
          Math.max(3, Math.round(ordersFulfilled / 10))
        );
        for (let i = 0; i < reviewCount; i++) {
          // Generate a review based on our rating and choices
          const reviewRating = Math.min(
            5,
            Math.max(1, results.rating + (Math.random() - 0.5))
          );

          let reviewText = "";

          // Base review text based on rating
          if (reviewRating >= 4.5) {
            const positives = [
              "Absolutely love my purchase! The quality is amazing and it arrived quickly.",
              "Beautiful workmanship! Even better than the photos. Will definitely order again.",
              "Perfect transaction - great communication, fast shipping, wonderful product!",
              "This exceeded my expectations! The attention to detail is impressive.",
              "I'm so happy with my order. The seller was very responsive and helpful.",
            ];
            reviewText =
              positives[Math.floor(Math.random() * positives.length)];
          } else if (reviewRating >= 3.5) {
            const neutrals = [
              "Good product, but shipping took a little longer than expected.",
              "Nice item, though I expected it to be a bit bigger based on the photos.",
              "The product is fine, but I wish there were more customization options.",
              "Decent quality for the price. Arrived in good condition.",
              "It's okay, but I've seen similar items for less elsewhere.",
            ];
            reviewText = neutrals[Math.floor(Math.random() * neutrals.length)];
          } else {
            const negatives = [
              "Not what I expected. The quality doesn't match the price.",
              "Item arrived damaged and customer service was slow to respond.",
              "Very disappointed. The product looks nothing like the photos.",
              "Took forever to ship and when it arrived, it was the wrong color.",
              "Overpriced for what you get. Would not recommend.",
            ];
            reviewText =
              negatives[Math.floor(Math.random() * negatives.length)];
          }

          // Add specific comments based on choices
          if (shippingStrategy === 1 && reviewRating < 4) {
            reviewText += " Also, the shipping cost was way too high!";
          }

          if (serviceStrategy.response === 1 && reviewRating < 4) {
            reviewText +=
              " The seller took too long to respond to my questions.";
          }

          if (serviceStrategy.quality === 1 && reviewRating < 3) {
            reviewText +=
              " My item had some quality issues that should have been caught before shipping.";
          }

          if (serviceStrategy.custom === 3 && reviewRating >= 4) {
            reviewText += " I loved that I could fully customize my order!";
          }

          results.reviews.push({
            rating: reviewRating,
            text: reviewText,
            date: "Week " + (Math.floor(Math.random() * 5) + 1),
          });
        }

        // Update results display
        document.getElementById("revenue-value").textContent =
          "$" + Math.round(results.revenue);
        document.getElementById("profit-value").textContent =
          "$" + Math.round(results.profit);
        document.getElementById("profit-value").className =
          results.profit >= 0
            ? "metric-value positive"
            : "metric-value negative";
        document.getElementById("orders-value").textContent = results.orders;
        document.getElementById("rating-value").textContent =
          results.rating.toFixed(1);

        // Update product performance
        if (selectedProducts.bracelets) {
          document.getElementById("bracelets-results").style.display = "grid";
          document.getElementById("bracelets-sold").textContent =
            results.productPerformance.bracelets.sold;
          document.getElementById("bracelets-revenue").textContent =
            "$" + Math.round(results.productPerformance.bracelets.revenue);
          document.getElementById("bracelets-profit").textContent =
            "$" + Math.round(results.productPerformance.bracelets.profit);
          document.getElementById("bracelets-profit").className =
            results.productPerformance.bracelets.profit >= 0
              ? "performance-metric positive"
              : "performance-metric negative";
        }

        if (selectedProducts.rocks) {
          document.getElementById("rocks-results").style.display = "grid";
          document.getElementById("rocks-sold").textContent =
            results.productPerformance.rocks.sold;
          document.getElementById("rocks-revenue").textContent =
            "$" + Math.round(results.productPerformance.rocks.revenue);
          document.getElementById("rocks-profit").textContent =
            "$" + Math.round(results.productPerformance.rocks.profit);
          document.getElementById("rocks-profit").className =
            results.productPerformance.rocks.profit >= 0
              ? "performance-metric positive"
              : "performance-metric negative";
        }

        if (selectedProducts.bookmarks) {
          document.getElementById("bookmarks-results").style.display = "grid";
          document.getElementById("bookmarks-sold").textContent =
            results.productPerformance.bookmarks.sold;
          document.getElementById("bookmarks-revenue").textContent =
            "$" + Math.round(results.productPerformance.bookmarks.revenue);
          document.getElementById("bookmarks-profit").textContent =
            "$" + Math.round(results.productPerformance.bookmarks.profit);
          document.getElementById("bookmarks-profit").className =
            results.productPerformance.bookmarks.profit >= 0
              ? "performance-metric positive"
              : "performance-metric negative";
        }

        if (selectedProducts.pots) {
          document.getElementById("pots-results").style.display = "grid";
          document.getElementById("pots-sold").textContent =
            results.productPerformance.pots.sold;
          document.getElementById("pots-revenue").textContent =
            "$" + Math.round(results.productPerformance.pots.revenue);
          document.getElementById("pots-profit").textContent =
            "$" + Math.round(results.productPerformance.pots.profit);
          document.getElementById("pots-profit").className =
            results.productPerformance.pots.profit >= 0
              ? "performance-metric positive"
              : "performance-metric negative";
        }

        // Display reviews
        const reviewsContainer = document.getElementById("reviews-container");
        reviewsContainer.innerHTML = "";

        results.reviews.forEach((review) => {
          const reviewElement = document.createElement("div");
          reviewElement.className = "review-card";
          reviewElement.innerHTML = `
                    <div class="review-header">
                        <div>
                            <span class="review-stars">
                                ${"â˜…".repeat(
                                  Math.floor(review.rating)
                                )}${"â˜†".repeat(5 - Math.floor(review.rating))}
                            </span>
                            <span>${review.rating.toFixed(1)}</span>
                        </div>
                        <div>${review.date}</div>
                    </div>
                    <div>"${review.text}"</div>
                `;
          reviewsContainer.appendChild(reviewElement);
        });

        // Generate lessons text
        let lessons = '<ul style="padding-left: 20px; margin-bottom: 10px;">';

        // Product mix lesson
        const productCount =
          Object.values(selectedProducts).filter(Boolean).length;
        if (productCount === 1) {
          lessons += `<li><strong>Product Mix:</strong> You focused on one product. This simplifies operations but limits your customer base. Consider adding complementary products next time.</li>`;
        } else if (productCount === 3) {
          lessons += `<li><strong>Product Mix:</strong> You offered a good variety of products, appealing to different customers. This helps balance risk but requires more management.</li>`;
        }

        // Production strategy lesson
        switch (productionStrategy) {
          case 1:
            const inventoryUsed = results.orders / (results.orders + 10); // Simulated inventory usage
            if (inventoryUsed < 0.5) {
              lessons += `<li><strong>Production:</strong> You made products in advance but didn't sell them all. Consider making less inventory or switching to make-to-order.</li>`;
            } else if (inventoryUsed > 0.9) {
              lessons += `<li><strong>Production:</strong> Your inventory strategy worked well! You sold most of what you made, minimizing waste.</li>`;
            }
            break;
          case 2:
            if (results.orders < 20) {
              lessons += `<li><strong>Production:</strong> Make-to-order meant you didn't have unsold inventory, but your slow fulfillment may have limited sales. Consider stocking some popular items.</li>`;
            } else {
              lessons += `<li><strong>Production:</strong> Make-to-order worked well for you, avoiding inventory risk while still fulfilling many orders.</li>`;
            }
            break;
          case 3:
            lessons += `<li><strong>Production:</strong> Your hybrid approach balanced risk and speed. This is often the best strategy for handmade businesses.</li>`;
            break;
        }

        // Pricing lesson
        let pricingOk = true;
        if (selectedProducts.bracelets && productPricing.bracelets.profit < 3) {
          lessons += `<li><strong>Pricing:</strong> Your bracelets had very low profit margins. Consider raising prices or finding ways to reduce costs.</li>`;
          pricingOk = false;
        }
        if (selectedProducts.rocks && productPricing.rocks.profit < 5) {
          lessons += `<li><strong>Pricing:</strong> Your painted rocks didn't generate much profit per item. The time investment may not be worth it at this price.</li>`;
          pricingOk = false;
        }
        if (pricingOk) {
          lessons += `<li><strong>Pricing:</strong> Your pricing strategy worked well, generating good profits across your product line.</li>`;
        }

        // Shipping lesson
        switch (shippingStrategy) {
          case 1:
            if (results.rating < 4) {
              lessons += `<li><strong>Shipping:</strong> Having customers pay shipping may have hurt your reviews. Consider absorbing some shipping costs to improve customer satisfaction.</li>`;
            } else {
              lessons += `<li><strong>Shipping:</strong> Your customer-pays shipping approach worked okay. Make sure your product prices justify the additional shipping costs.</li>`;
            }
            break;
          case 2:
            lessons += `<li><strong>Shipping:</strong> Flat rate shipping provided a good balance between customer appeal and cost predictability for you.</li>`;
            break;
          case 3:
            if (results.profit < 50) {
              lessons += `<li><strong>Shipping:</strong> Free shipping attracted customers but may have cut too much into your profits. Consider raising product prices slightly to cover shipping costs.</li>`;
            } else {
              lessons += `<li><strong>Shipping:</strong> Free shipping was a great strategy for you, increasing sales without hurting profits too much.</li>`;
            }
            break;
        }

        // Time management lesson
        if (timeAllocation.production > 10 && results.orders < 15) {
          lessons += `<li><strong>Time Management:</strong> You spent a lot of time on production but didn't get many orders. Consider shifting some time to marketing to attract more customers.</li>`;
        } else if (timeAllocation.marketing > 3 && results.orders > 30) {
          lessons += `<li><strong>Time Management:</strong> Your marketing time paid off with lots of orders! Make sure you can handle the production volume.</li>`;
        } else {
          lessons += `<li><strong>Time Management:</strong> You balanced your time well between production, service, and marketing.</li>`;
        }

        // Customer service lesson
        if (serviceStrategy.quality === 1 && results.rating < 3.5) {
          lessons += `<li><strong>Customer Service:</strong> Your quick quality checks may have led to some customer dissatisfaction. Consider spending more time on quality control.</li>`;
        } else if (serviceStrategy.response === 3 && results.rating > 4) {
          lessons += `<li><strong>Customer Service:</strong> Your fast response times clearly paid off with excellent reviews!</li>`;
        }

        // Final lesson based on profit and rating
        if (results.profit > 150 && results.rating > 4.5) {
          lessons += `<li><strong>Overall:</strong> Excellent job! You built a profitable business with happy customers. This is a sustainable model you could continue!</li>`;
        } else if (results.profit > 50 && results.rating > 4) {
          lessons += `<li><strong>Overall:</strong> Good work! You made a profit and kept customers happy. Review your decisions to see where you could improve even more.</li>`;
        } else if (results.profit > 0) {
          lessons += `<li><strong>Overall:</strong> You made a small profit. Focus on either increasing sales or reducing costs to improve your results.</li>`;
        } else {
          lessons += `<li><strong>Overall:</strong> You didn't make a profit this time. Review all your decisions - pricing, time allocation, and product mix are good places to start.</li>`;
        }

        // Calculate score (0-100)
        let score = 0;

        // Profit contributes up to 40 points
        score += Math.min(40, results.profit);

        // Customer rating contributes up to 20 points
        score += Math.min(20, (results.rating - 1) * 5);

        // Orders fulfilled contributes up to 20 points
        score += Math.min(20, results.orders);

        // Product diversity contributes up to 10 points
        score += Math.min(
          10,
          Object.values(selectedProducts).filter(Boolean).length * 3.33
        );

        // Time management contributes up to 10 points
        const timeBalance =
          Math.abs(10 - timeAllocation.production) +
          Math.abs(3 - timeAllocation.service) +
          Math.abs(2 - timeAllocation.marketing);
        score += Math.min(10, 10 - timeBalance / 3);

        score = Math.min(100, Math.max(0, Math.round(score)));
        document.getElementById("score-value").textContent = `${score}/100`;
        results.score = score;

        lessons += "</ul>";
        document.getElementById("lessons-text").innerHTML = lessons;
      }

      // Restart simulation
      function restartSimulation() {
        // Reset all state variables
        currentScene = 1;
        selectedProducts = {
          bracelets: false,
          rocks: false,
          bookmarks: false,
          pots: false,
        };
        productionStrategy = null;
        initialInventory = {
          bracelets: 0,
          rocks: 0,
          bookmarks: 0,
          pots: 0,
        };
        productPricing = {
          bracelets: { price: 8.0, cost: 0.5, time: 0.33, profit: 7.17 },
          rocks: { price: 12.0, cost: 0.75, time: 0.5, profit: 10.75 },
          bookmarks: { price: 6.0, cost: 0.3, time: 0.25, profit: 5.45 },
          pots: { price: 20.0, cost: 2.5, time: 0.75, profit: 16.75 },
        };
        shopSetup = null;
        remainingBudget = 100;
        shippingStrategy = null;
        timeAllocation = {
          production: 10,
          service: 3,
          marketing: 2,
        };
        serviceStrategy = {
          response: null,
          quality: null,
          custom: null,
        };
        results = {
          revenue: 0,
          profit: 0,
          orders: 0,
          rating: 0,
          reviews: [],
          productPerformance: {},
        };

        // Reset UI
        document.querySelectorAll(".scenario-section").forEach((section) => {
          section.classList.remove("active");
        });
        document.getElementById("scene-1").classList.add("active");

        // Reset product selection
        document.getElementById("product-bracelets").checked = false;
        document.getElementById("product-rocks").checked = false;
        document.getElementById("product-bookmarks").checked = false;
        document.getElementById("product-pots").checked = false;
        updateProductSelection();

        // Reset all selections
        document.querySelectorAll(".option-card").forEach((card) => {
          card.classList.remove("selected");
        });

        // Reset inventory inputs
        document.getElementById("bracelets-quantity").value = 0;
        document.getElementById("rocks-quantity").value = 0;
        document.getElementById("bookmarks-quantity").value = 0;
        document.getElementById("pots-quantity").value = 0;
        updateProductionCosts();

        // Reset price inputs
        document.getElementById("bracelets-price").value = 8.0;
        document.getElementById("rocks-price").value = 12.0;
        document.getElementById("bookmarks-price").value = 6.0;
        document.getElementById("pots-price").value = 20.0;
        updatePricing();

        // Reset time sliders
        document.getElementById("production-slider").value = 10;
        document.getElementById("service-slider").value = 3;
        document.getElementById("marketing-slider").value = 2;
        updateTimeAllocation();

        // Reset setup budget display
        document.getElementById("setup-remaining-budget").textContent =
          "$100.00";

        updateProgress();
      }

      // Initialize when page loads
      window.onload = initSimulation;
    </script>
  </body>
</html>
